{% extends "layout.html" %}

{% block content %}

<script src="{{ url_for('static', filename='js/distrito.js') }}"></script>
<style>
    #mapid { 
        height: 700px; 
        width: 300px
        }
</style>



<div class="container">
    <div class="row">
        <div class="col-md-4">
            <div id="mapid"></div>
        </div>
        <div class="col-md-8">
            <div class="row">
                <div class="col-md-6">
                    graph
                </div>
                <div class="col-md-6">
                    graph
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var mymap = L.map('mapid').setView([39.557191, -7.8536599], 7);

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
        maxZoom: 18,
        id: 'mapbox/light-v9',
        accessToken: 'pk.eyJ1Ijoibm1zZmMiLCJhIjoiY2thbzJodHR3MGFoaDJybnljdzBjMGp5OCJ9.-oHCyTvi5R5F1ygtGFAH8w'
    }).addTo(mymap);


    function getColor(d) {
    return d > 320  ? '#800026' :
           d > 270  ? '#BD0026' :
           d > 220  ? '#E31A1C' :
           d > 170  ? '#FC4E2A' :
           d > 120  ? '#FD8D3C' :
           d > 70   ? '#FEB24C' :
           d > 20   ? '#FED976' :
                      '#FFEDA0';
    }

    function style(feature) {
		return {
			weight: 2,
			opacity: 1,
			color: 'white',
			dashArray: '3',
			fillOpacity: 0.7,
			fillColor: getColor(feature.properties.N_Freguesi)
		};
    }
    
    var geojson = L.geoJson(distritoData, {
		style: style,
	}).addTo(mymap);

    

</script>

{% endblock %}

